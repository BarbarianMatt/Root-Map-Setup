(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{UYdf:function(e,n,t){"use strict";t.r(n),t.d(n,"InputModule",function(){return B});var o=t("ofXK"),r=t("tyNb"),i=t("6xEa"),a=t("BJvs"),c=t("fXoL"),s=t("UPMW"),l=t("HDMR");function b(e,n){return g(e).slice(0,n)}function d(e,n){return e+n+"\r\n"}function g(e){return null==e&&console.trace(),e.map(e=>({value:e,sort:Math.random()})).sort((e,n)=>e.sort-n.sort).map(({value:e})=>e)}function u(e,n){return Array.from({length:n},(n,t)=>t+e)}function h(e,n,t,o){var r=a.q[o][n];return!(t.includes(n)||"t"!=e&&t.some(e=>r.adjacent.includes(e))||"t"==e&&!r.ruins||"t_m"==e&&(1!=r.slots||r.ruins)||"t_c"==e&&!r.river||"t_f"==e&&!r.river||!("t_r"!=e||!r.edge&&r.adjacent.length>2))}function f(e,n,t){var o=["\u1ea0","\xc5","\xc4","\u1ea2","\u1e00","\u1ea4","\u1ea6","\u1ea8","\u0202"];if((o=o.filter(e=>!t.bannedClasses[e].banned)).length<1+(e.includes("G")?1:0)||e.length<Math.max(n+1,3))return"error";var r=[],i=JSON.parse(JSON.stringify(e));p(i,"G");for(var a=0;a<Math.max(n+1,3);a++){var c=b(i,1)[0];if("G"==c&&Math.random()<.4&&(c=b(i,1)[0]),r.push(c),i.splice(i.indexOf(c),1),"V"==c&&e.includes("G")&&i.push("G"),"G"==c||"V"==c){var s=b(o,1)[0];r.push(s),o.splice(o.indexOf(s),1)}}return r}function p(e,n){e.includes(n)&&e.splice(e.indexOf(n),1)}function m(e){return!!isNaN(Number(e))}let O=(()=>{class e{constructor(e){this.rootlogService=e}mapSetup(e){var n=Number(e.players),t=Number(e.bots),o=e.hirelings,r=e.balanced,i="",c=Object.keys(e.bannedMaps).filter(n=>!e.bannedMaps[n].banned);if(0===c.length||m(e.players)||m(e.bots)||m(e.maxLandmarks)||m(e.minLandmarks)||m(e.epDeckOdds)||0==n||Number(e.maxLandmarks)<Number(e.minLandmarks)||Number(e.epDeckOdds)>1)return"error";const l=b(c,1)[0];i=d(i,"Map: "+l);var O=Math.random()<=Number(e.epDeckOdds)?"E&P":"Standard";i=d(i,"Deck: "+O);var v=["R","R","R","R","F","F","F","F","M","M","M","M"];v=g(v);for(var M=!0;r&&M;){v=g(v),M=!1;for(var N=0;N<v.length;N++){var k=a.q[l][N+1].adjacent;if(l==s.RootMap.Mountain&&(k=k.concat(a.q[l][N+1].closedAdjacent)),k.some(e=>v[e-1]==v[N])){M=!0;break}}}var C="Clearings: "+v[0]+"1";for(N=1;N<v.length;N++)C+=", "+v[N]+(N+1).toString();i=d(i,C);var S="";i=d(i,"M: "+O+" Deck");var j=Number(e.maxLandmarks),w=Number(e.minLandmarks),y=(j+w)/2,x=b(["t","t_m","t_c","t_f","t_k","t_r"],Math.round(Math.max(Math.min(function(e,n){const{z0:t}=function(){const e=Math.random(),n=Math.random();return{z0:Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*n),z1:Math.sqrt(-2*Math.log(e))*Math.sin(2*Math.PI*n)}}();return t*n+e}(y+.1,.557*y),j),w))),_=Math.random();("Mountain"==l&&_<.4&&!x.includes("t")||"Lake"==l&&_<.4&&!x.includes("t_f"))&&(x[0]="Mountain"==l?"t":"t_f");for(var P=!1,q=[],Z=0;!P&&Z<=1e5;){q=[],P=!0,x=g(x);var F=b(u(1,12),x.length);for(N=0;N<x.length;N++){var V=F[N];_=Math.random(),"Mountain"==l&&_<.2&&(V=10),h(x[N],V,q,l)||(P=!1),q.push(V)}Z+=1}Z>=1e5&&console.log("looped too much landmark");var L=u(1,12).filter(e=>a.q[l][e].ruins),z=["b","b_s","b_w","b_r"],R="M:";if(L.length>0)for(R+=z[0]+"->"+L[0]+"/",N=1;N<L.length;N++)R+=z[N]+"->"+L[N]+"/";if(x.length>0){for(N=0;N<q.length;N++)R+=x[N]+"->"+q[N].toString()+"/","t_c"==x[N]?v[q[N]-1]=v[q[N]-1]+"FRM".replace(v[q[N]-1],""):"t_r"==x[N]?a.q[l][q[N]].slots=a.q[l][q[N]].slots+1:"t_k"==x[N]&&(v[q[N]-1].includes("F")&&(R+="Z%s/Z%s/Z%x/Z%h/"),v[q[N]-1].includes("R")&&(R+="Z%b/Z%b/Z%t/Z%t/"),v[q[N]-1].includes("M")&&(R+="Z%f/Z%f/Z%c/Z%c/"));S=d(S,R=R.slice(0,-1))}var B=["P","L","D","E","C","O","V","A","K","H","G"],G=["c","e","a","v","p","d","o","l"],I=["\xe5","\u1ea3","\u1ea5","\u1ea7","\u1ea9","\u0203"],H=b(G.filter(n=>!e.bannedBots[n].banned),t);for(N=0;N<H.length;N++)p(B,H[N].toUpperCase()),"v"==H[N]&&H.splice(N+1,0,b(I,1)[0]),R=H[N]+": "+this.rootlogService.getFactionProperName(H[N]),G.includes(H[N])&&(R+=" ("+b(a.n[H[N].toUpperCase()],1)+")"),i=d(i,R);var U=u(1,12).filter(e=>a.q[l][e].corner),E=0;if(H.includes("c")){var D=g(["b_s","b_r","b_w"]),J=b(U,1)[0];for(U.splice(U.indexOf(J),1),E=J,R="c:t_k->"+J.toString()+"/w->"+J.toString(),N=1;N<13;N++)a.q[l][J].opposite!=N&&(R+="+"+N.toString());var $=a.q[l][J].adjacent;for($.length<D.length&&($=$.concat(Array(D.length-$.length).fill(J))),N=0;N<D.length;N++)R+="/"+D[N]+"->"+$[N].toString(),a.q[l][$[N]].slots=a.q[l][$[N]].slots-1;S=d(S,R)}if(H.includes("e")&&(J=3==U.length?a.q[l][u(1,12).filter(e=>a.q[l][e].corner&&!U.includes(e))[0]].opposite:b(U,1)[0],U.splice(U.indexOf(J),1),a.q[l][J].slots=a.q[l][J].slots-1,S=d(S,"e:b+6w->"+J.toString())),H.includes("v")){var K=Object.keys(a.o[l]).reduce((e,n)=>e>(n.match(/\_/g)||[]).length?e:(n.match(/\_/g)||[]).length,0);S=d(S,"v:p->"+b(Object.keys(a.o[l]).filter(e=>(e.match(/\_/g)||[]).length==K),1)[0].toString())}if(H.includes("l")){for(J=3==U.length?a.q[l][u(1,12).filter(e=>a.q[l][e].corner&&!U.includes(e))[0]].opposite:b(U,1)[0],U.splice(U.indexOf(J),1),R="l:4w+b_"+v[J-1].toString()[0].toLowerCase()+"->"+J.toString(),N=0;N<a.q[l][J].adjacent.length;N++)R+="/w->"+a.q[l][J].adjacent[N].toString();a.q[l][J].slots=a.q[l][J].slots-1,S=d(S,R)}if(H.includes("o")){for(R="o:w->"+(ee=u(1,12).filter(e=>a.q[l][e].river&&e!=E))[0],N=1;N<ee.length;N++)R+="+"+ee[N];S=d(S,R)}if(H.includes("d")){for(J=3==U.length?a.q[l][u(1,12).filter(e=>a.q[l][e].corner&&!U.includes(e))[0]].opposite:b(U,1)[0],U.splice(U.indexOf(J),1),R="d:t->"+J.toString()+"/2w->"+J.toString(),N=0;N<a.q[l][J].adjacent.length;N++)R+="+"+a.q[l][J].adjacent[N].toString();S=d(S,R)}H.includes("p")&&(R="p:w->",R+=u(1,12).filter(e=>v[e-1].includes("F")&&e!=E).splice(-1)[0]+"+",R+=u(1,12).filter(e=>v[e-1].includes("M")&&e!=E).splice(-1)[0]+"+",S=d(S,R+=u(1,12).filter(e=>v[e-1].includes("R")&&e!=E).splice(-1)[0]));var A=b(B.filter(n=>"G"!==n&&!e.bannedHirelings[Object(a.h)(n)].banned).concat(["B","N","R"]),o?3:0);for(N=0;N<A.length;N++){var T=A[N];B.includes(T)&&B.length-("V"==T?2:1)<n+1&&(T=b(["B","N","R"].filter(e=>!A.includes(e)&&!A.includes(e+"\u0301")),1)[0]),p(B,T),"V"==T&&p(B,"G"),A[N]=Object(a.h)(T),i=d(i,A[N]+": "+this.rootlogService.getFactionProperName(A[N]).split(",")[N+n+t>4?1:0]+" "+(N+n+t>4?"\u25bc":"\u25b2"))}for(N=0;N<A.length&&N<5-n-t;N++){var X=A[N];if(X==Object(a.h)("K")){var W=b(u(1,12).filter(e=>a.q[l][e].slots>0&&e!=E),1)[0];S=d(S,Object(a.h)("K")+":b+2w->"+W.toString()),a.q[l][W].slots=a.q[l][W].slots-1}if(X==Object(a.h)("B")&&(F=b(u(1,12).filter(e=>e!=E),2),S=d(S,Object(a.h)("B")+":w->"+F[0].toString()+"+"+F[1].toString())),X==Object(a.h)("N")){if(R="",(F=b(Object.keys(a.r[l]),2)).length>0){R+=Object(a.h)("N")+":w->"+F[0];for(var Y=1;Y<F.length;Y++)R+="+"+F[Y]}S=d(S,R)}if(X==Object(a.h)("P")){var Q=b(["R","F","M"],1)[0];F=b(u(1,12).filter(e=>v[e-1].includes(Q)&&e!=E),2),S=d(S,Object(a.h)("P")+":w->"+F[0].toString()+"+"+F[1].toString())}if(X==Object(a.h)("L")){for(R="",(ee=u(1,12).filter(e=>a.q[l][e].ruins&&e!=E)).length>0&&(R+=Object(a.h)("L")+":w->"+ee[0]),Y=1;Y<ee.length;Y++)R+="+"+ee[Y];S=d(S,R)}if(X==Object(a.h)("D")&&(W=b(u(1,12).filter(e=>e!=E),1)[0],S=d(S,Object(a.h)("D")+":t+3w->"+W.toString())),X==Object(a.h)("E")&&(W=b(u(1,12).filter(e=>a.q[l][e].edge&&e!=E),1)[0],S=d(S,Object(a.h)("E")+":5w->"+W.toString())),X==Object(a.h)("C")){var ee;if(R="",(ee=u(1,12).filter(e=>e!=E)).length>0)for(R+=Object(a.h)("C")+":w->"+ee[0],Y=1;Y<ee.length;Y++)R+="+"+ee[Y];S=d(S,R)}if(X==Object(a.h)("R")&&(W=b(u(1,12).filter(e=>e!=E),1)[0],S=d(S,Object(a.h)("R")+":w->"+W.toString())),X==Object(a.h)("H")){var ne=b(u(1,12).filter(e=>e!=E),1)[0],te=b(u(1,12).filter(e=>e!=E),1)[0];S=d(S,Object(a.h)("H")+":w->"+ne.toString()+"+"+te.toString())}if(X==Object(a.h)("O")&&(0==(F=b(u(1,12).filter(e=>a.q[l][e].edge&&a.q[l][e].river&&e!=E),1)).length&&(F=b(u(1,12).filter(e=>a.q[l][e].river&&e!=E),1)),W=F[0],S=d(S,Object(a.h)("O")+":w->"+W.toString())),X==Object(a.h)("V")&&(W=b(Object.keys(a.o[l]),1)[0],S=d(S,Object(a.h)("V")+":w->"+W.toString())),X==Object(a.h)("A")){var oe=b(["R","F","M"],1)[0],re=b(["R","F","M"],1)[0];ne=b(u(1,12).filter(e=>v[e-1].includes(oe)&&e!=E),1)[0],te=b(u(1,12).filter(e=>v[e-1].includes(re)&&e!=E),1)[0],S=d(S,Object(a.h)("A")+":w->"+ne.toString()+"+"+te.toString())}}var ie=["D","E","C","K","H"];B=B.filter(n=>!e.bannedFactions[n].banned);for(var ae=!1,ce=0,se=ie;!ae&&ce<=1e5;){if(ae=!0,"error"==(se=f(B,n,e)))return"error";((le=ie.filter(e=>se.includes(e)||H.includes(e.toLowerCase())).length)<1||2==n&&le<3)&&(ae=!1),ce+=1}ce>=1e5&&console.log("looped too much finding faction");var le=ie.filter(e=>se.includes(e)||H.includes(e.toLowerCase())).length;for(N=0;N<se.length;N++){if(R=se[N]+": "+this.rootlogService.getFactionProperName(se[N]),le<=1&&(N==se.length-3&&("V"==se[N]||"G"==se[N])&&ie.includes(se[N+2])||N==se.length-2&&!ie.includes(se[N])&&!["\u1ea0","\xc5","\xc4","\u1ea2","\u1e00","\u1ea4","\u1ea6","\u1ea8","\u0202"].includes(se[N])&&(ie.includes(se[N+1])||["\u1ea0","\xc5","\xc4","\u1ea2","\u1e00","\u1ea4","\u1ea6","\u1ea8","\u0202"].includes(se[N+1]))||N==se.length-1&&!ie.includes(se[N])&&!["\u1ea0","\xc5","\xc4","\u1ea2","\u1e00","\u1ea4","\u1ea6","\u1ea8","\u0202"].includes(se[N]))&&(R+=" \ud83d\udd12"),"K"==se[N]){var be=Object.keys(a.o[l]),de="";if((F=b(["t","t","t","t","t_k","t_k","t_k","t_k","t_m","t_m","t_m","t_m"],be.length)).length>0)for(de+="K:"+F[0]+"->"+be[0],Y=1;Y<F.length;Y++)de+="/"+F[Y]+"->"+be[Y];S=d(S,de)}i=d(i,R)}return i+=S,(Z>=1e5||ce>=1e5)&&(i="error"),i}}return e.\u0275fac=function(n){return new(n||e)(c.Sb(l.a))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{class e{constructor(){}setItem(e,n){localStorage.setItem(e,JSON.stringify(n))}getItem(e){return JSON.parse(localStorage.getItem(e))}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=t("/t3+"),N=t("kmnG"),k=t("qFsG"),C=t("3Pt+"),S=t("bSwM"),j=t("bTqV");function w(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div",9),c.Ob(1,"mat-checkbox",10),c.Vb("change",function(){return c.lc(e),c.Zb(2).gameChange()})("ngModelChange",function(t){c.lc(e);const o=n.$implicit;return c.Zb(2).options.bannedFactions[o].banned=t}),c.sc(2),c.Nb(),c.Nb()}if(2&e){const e=n.$implicit,t=c.Zb(2);c.zb(1),c.ec("ngModel",t.options.bannedFactions[e].banned),c.zb(1),c.uc(" ",t.options.bannedFactions[e].properName,"")}}function y(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div",9),c.Ob(1,"mat-checkbox",10),c.Vb("change",function(){return c.lc(e),c.Zb(2).gameChange()})("ngModelChange",function(t){c.lc(e);const o=n.$implicit;return c.Zb(2).options.bannedMaps[o].banned=t}),c.sc(2),c.Nb(),c.Nb()}if(2&e){const e=n.$implicit,t=c.Zb(2);c.zb(1),c.ec("ngModel",t.options.bannedMaps[e].banned),c.zb(1),c.uc(" ",t.options.bannedMaps[e].properName,"")}}function x(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div",9),c.Ob(1,"mat-checkbox",10),c.Vb("change",function(){return c.lc(e),c.Zb(2).gameChange()})("ngModelChange",function(t){c.lc(e);const o=n.$implicit;return c.Zb(2).options.bannedBots[o].banned=t}),c.sc(2),c.Nb(),c.Nb()}if(2&e){const e=n.$implicit,t=c.Zb(2);c.zb(1),c.ec("ngModel",t.options.bannedBots[e].banned),c.zb(1),c.uc(" ",t.options.bannedBots[e].properName,"")}}function _(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div",9),c.Ob(1,"mat-checkbox",10),c.Vb("change",function(){return c.lc(e),c.Zb(2).gameChange()})("ngModelChange",function(t){c.lc(e);const o=n.$implicit;return c.Zb(2).options.bannedClasses[o].banned=t}),c.sc(2),c.Nb(),c.Nb()}if(2&e){const e=n.$implicit,t=c.Zb(2);c.zb(1),c.ec("ngModel",t.options.bannedClasses[e].banned),c.zb(1),c.uc(" ",t.options.bannedClasses[e].properName,"")}}function P(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div",9),c.Ob(1,"mat-checkbox",10),c.Vb("change",function(){return c.lc(e),c.Zb(2).gameChange()})("ngModelChange",function(t){c.lc(e);const o=n.$implicit;return c.Zb(2).options.bannedHirelings[o].banned=t}),c.sc(2),c.Nb(),c.Nb()}if(2&e){const e=n.$implicit,t=c.Zb(2);c.zb(1),c.ec("ngModel",t.options.bannedHirelings[e].banned),c.zb(1),c.uc(" ",t.options.bannedHirelings[e].properName," ")}}const q=function(){return{standalone:!0}};function Z(e,n){if(1&e){const e=c.Pb();c.Ob(0,"div"),c.Ob(1,"div",13),c.Ob(2,"h1",1),c.Vb("click",function(){return c.lc(e),c.Zb().all("bannedFactions")}),c.sc(3,"Banned Factions"),c.Nb(),c.Nb(),c.Ob(4,"div",8),c.rc(5,w,3,2,"div",14),c.Nb(),c.Ob(6,"div",13),c.Ob(7,"h1",1),c.Vb("click",function(){return c.lc(e),c.Zb().all("bannedMaps")}),c.sc(8,"Banned Maps"),c.Nb(),c.Nb(),c.Ob(9,"div",8),c.rc(10,y,3,2,"div",14),c.Nb(),c.Ob(11,"div",13),c.Ob(12,"h1",1),c.Vb("click",function(){return c.lc(e),c.Zb().all("bannedBots")}),c.sc(13,"Banned Bots"),c.Nb(),c.Nb(),c.Ob(14,"div",8),c.rc(15,x,3,2,"div",14),c.Nb(),c.Ob(16,"div",13),c.Ob(17,"h1",1),c.Vb("click",function(){return c.lc(e),c.Zb().all("bannedClasses")}),c.sc(18,"Banned Vagabond Classes"),c.Nb(),c.Nb(),c.Ob(19,"div",8),c.rc(20,_,3,2,"div",14),c.Nb(),c.Ob(21,"div",13),c.Ob(22,"h1",1),c.Vb("click",function(){return c.lc(e),c.Zb().all("bannedHirelings")}),c.sc(23,"Banned Hirelings"),c.Nb(),c.Nb(),c.Ob(24,"div",8),c.rc(25,P,3,2,"div",14),c.Nb(),c.Ob(26,"div",3),c.Ob(27,"div",4),c.Ob(28,"mat-form-field",5),c.Ob(29,"mat-label"),c.sc(30,"Max Landmarks"),c.Nb(),c.Ob(31,"textarea",15),c.Vb("keyup",function(){return c.lc(e),c.Zb().gameChange()})("ngModelChange",function(n){return c.lc(e),c.Zb().options.maxLandmarks=n}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(32,"div",3),c.Ob(33,"div",4),c.Ob(34,"mat-form-field",5),c.Ob(35,"mat-label"),c.sc(36,"Min Landmarks"),c.Nb(),c.Ob(37,"textarea",16),c.Vb("keyup",function(){return c.lc(e),c.Zb().gameChange()})("ngModelChange",function(n){return c.lc(e),c.Zb().options.minLandmarks=n}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(38,"div",3),c.Ob(39,"div",4),c.Ob(40,"mat-form-field",5),c.Ob(41,"mat-label"),c.sc(42,"Exiles and Partisans Deck Odds"),c.Nb(),c.Ob(43,"textarea",17),c.Vb("keyup",function(){return c.lc(e),c.Zb().gameChange()})("ngModelChange",function(n){return c.lc(e),c.Zb().options.epDeckOdds=n}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Zb();c.zb(5),c.ec("ngForOf",e.keys(e.getFactions())),c.zb(5),c.ec("ngForOf",e.keys(e.getMaps())),c.zb(5),c.ec("ngForOf",e.keys(e.getBots())),c.zb(5),c.ec("ngForOf",e.keys(e.getClasses())),c.zb(5),c.ec("ngForOf",e.keys(e.getHirelings())),c.zb(6),c.ec("ngModel",e.options.maxLandmarks)("ngModelOptions",c.fc(11,q)),c.zb(6),c.ec("ngModel",e.options.minLandmarks)("ngModelOptions",c.fc(12,q)),c.zb(6),c.ec("ngModel",e.options.epDeckOdds)("ngModelOptions",c.fc(13,q))}}const F=function(){return["/"]},V=function(){return["/full-game"]},L=[{path:"",component:(()=>{class e{constructor(e,n,t){this.mapService=e,this.rootlogService=n,this.localStorageService=t,this.options=this.localGet(this.default()),this.game=this.mapService.mapSetup(this.options),this.validRootlog=!0,this.gameUrl="",this.validRootlogUrl=!1}localGet(e){const n=e;for(const[o,r]of Object.entries(e)){var t=this.localStorageService.getItem(o);null!==t&&"undefined"!==t&&""!==t&&(n[o]=t)}return n}reset(){this.options=this.default(),this.options.reset=!1,this.gameChange()}True(){return!0}default(){return{players:4,bots:0,extra:!1,reset:!1,hirelings:!1,balanced:!1,bannedFactions:this.getFactions(),bannedBots:this.getBots(),bannedClasses:this.getClasses(),bannedHirelings:this.getHirelings(),bannedMaps:this.getMaps(),maxLandmarks:2,minLandmarks:0,epDeckOdds:.9}}localSet(e){for(const[n,t]of Object.entries(e))this.localStorageService.setItem(n,t)}gameChange(){this.localSet(this.options),this.game=this.mapService.mapSetup(this.options)}async gameUrlChange(){try{const e=await this.rootlogService.getGameStringFromURLPromise(this.gameUrl);this.validRootlogUrl=this.rootlogService.isValidGame(e)}catch(e){this.validRootlogUrl=!1}}keys(e){return Object.keys(e)}getMaps(){var e={};for(const[t,o]of Object.entries(a.e)){var n={banned:!1};n.properName=o,e[t]=n}return e}getFactions(){var e={};for(const[t,o]of Object.entries(a.c)){var n={};n.name=o,n.banned=!1,n.properName=this.rootlogService.getFactionProperName(t),e[t]=n}return e}getBots(){var e={};for(const[t,o]of Object.entries(a.a)){var n={};n.name=o,n.banned=!1,n.properName=this.rootlogService.getFactionProperName(t),e[t]=n}return e}getClasses(){var e={};for(const[t,o]of Object.entries(a.b)){var n={};n.name=o,n.banned=!1,n.properName=this.rootlogService.getFactionProperName(t),e[t]=n}return e}all(e){var n=0;for(const[o,r]of Object.entries(this.options[e]))n+=this.options[e][o].banned?1:0;var t=n<=Object.keys(this.options[e]).length/2;for(const[o,r]of Object.entries(this.options[e]))this.options[e][o].banned=t;this.gameChange()}getHirelings(){var e={};for(const[t,o]of Object.entries(a.d)){var n={};n.name=o,n.banned=!1,n.properName=this.rootlogService.getFactionProperName(t).split(",")[0],e[t]=n}return e}getURLParams(){const e={};return this.game&&(e.game=this.getEncodedGame()),this.gameUrl&&(e.gameUrl=this.gameUrl),e}getEncodedGame(){return this.game?Object(i.compressToEncodedURIComponent)(this.game):""}}return e.\u0275fac=function(n){return new(n||e)(c.Jb(O),c.Jb(l.a),c.Jb(v))},e.\u0275cmp=c.Db({type:e,selectors:[["app-input"]],decls:31,vars:16,consts:[["color","primary",3,"routerLink"],[3,"click"],[1,"container"],[1,"row"],[1,"col"],["appearance","outline","color","accent"],["matInput","","placeholder","Enter # of players here...",1,"input-game",3,"ngModel","ngModelOptions","keyup","ngModelChange"],["matInput","","placeholder","Enter # of bots here...",1,"input-game",3,"ngModel","ngModelOptions","keyup","ngModelChange"],[1,"row-check"],[1,"row-col"],[3,"ngModel","change","ngModelChange"],[4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink","queryParams","disabled"],[1,"center"],["class","row-col",4,"ngFor","ngForOf"],["matInput","","placeholder","Enter max # of landmarks here...",1,"input-game",3,"ngModel","ngModelOptions","keyup","ngModelChange"],["matInput","","placeholder","Enter min # of landmarks here...",1,"input-game",3,"ngModel","ngModelOptions","keyup","ngModelChange"],["matInput","","placeholder","Enter Exiles and Partisans Deck Odds here...",1,"input-game",3,"ngModel","ngModelOptions","keyup","ngModelChange"]],template:function(e,n){1&e&&(c.Ob(0,"mat-toolbar",0),c.Ob(1,"span",1),c.Vb("click",function(){return n.reset()}),c.sc(2,"Root Map Setup"),c.Nb(),c.Nb(),c.Ob(3,"div",2),c.Ob(4,"div",3),c.Ob(5,"div",4),c.Ob(6,"mat-form-field",5),c.Ob(7,"mat-label"),c.sc(8,"Players"),c.Nb(),c.Ob(9,"textarea",6),c.Vb("keyup",function(){return n.gameChange()})("ngModelChange",function(e){return n.options.players=e}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(10,"div",3),c.Ob(11,"div",4),c.Ob(12,"mat-form-field",5),c.Ob(13,"mat-label"),c.sc(14,"Bots"),c.Nb(),c.Ob(15,"textarea",7),c.Vb("keyup",function(){return n.gameChange()})("ngModelChange",function(e){return n.options.bots=e}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(16,"div",8),c.Ob(17,"div",9),c.Ob(18,"mat-checkbox",10),c.Vb("change",function(){return n.gameChange()})("ngModelChange",function(e){return n.options.hirelings=e}),c.sc(19," Hirelings?"),c.Nb(),c.Nb(),c.Ob(20,"div",9),c.Ob(21,"mat-checkbox",10),c.Vb("change",function(){return n.gameChange()})("ngModelChange",function(e){return n.options.balanced=e}),c.sc(22," Balanced Clearings?"),c.Nb(),c.Nb(),c.Ob(23,"div",9),c.Ob(24,"mat-checkbox",10),c.Vb("change",function(){return n.gameChange()})("ngModelChange",function(e){return n.options.extra=e}),c.sc(25," Extra Settings?"),c.Nb(),c.Nb(),c.Nb(),c.rc(26,Z,44,14,"div",11),c.Ob(27,"div",3),c.Ob(28,"div",4),c.Ob(29,"button",12),c.sc(30,"Generate Map"),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.ec("routerLink",c.fc(12,F)),c.zb(9),c.ec("ngModel",n.options.players)("ngModelOptions",c.fc(13,q)),c.zb(6),c.ec("ngModel",n.options.bots)("ngModelOptions",c.fc(14,q)),c.zb(3),c.ec("ngModel",n.options.hirelings),c.zb(3),c.ec("ngModel",n.options.balanced),c.zb(3),c.ec("ngModel",n.options.extra),c.zb(2),c.ec("ngIf",n.options.extra),c.zb(3),c.ec("routerLink",c.fc(15,V))("queryParams",n.getURLParams())("disabled",!n.validRootlog&&!n.validRootlogUrl))},directives:[M.a,r.c,N.b,N.e,k.a,C.b,C.h,C.j,S.a,o.l,j.a,o.k],styles:[".container[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .row-check[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}.container[_ngcontent-%COMP%]   .row-check[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.container[_ngcontent-%COMP%]   .row-check[_ngcontent-%COMP%]   .row-col[_ngcontent-%COMP%]{min-width:200px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:20px}button[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%], .row-check[_ngcontent-%COMP%]{margin-top:20px}textarea[_ngcontent-%COMP%]{height:20px;max-height:20px}"]}),e})()}];let z=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(n){return new(n||e)},imports:[[r.d.forChild(L)],r.d]}),e})();var R=t("d2mR");let B=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(n){return new(n||e)},imports:[[o.c,C.d,z,R.a]]}),e})()}}]);